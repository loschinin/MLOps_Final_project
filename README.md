# MLOps_Final_project

MLOps. Final Project (vo_PJ) 2 semester

Над проектом работали

Чурсин Александр
Лощинин Дмитрий
Байгозин Павел
Хокконен Алексей


Это Flask-приложение предсказывает цену на основе входных данных, используя предварительно обученную модель градиентного бустинга и стандартный скейлер.

## Установка

Для запуска этого приложения вам понадобится Docker. Если Docker у вас еще не установлен, следуйте инструкциям на [официальном сайте Docker](https://docs.docker.com/get-docker/).

### Шаги установки


1. Убедитесь, что у вас есть следующие файлы в корне проекта:
    - `app.py` - основной файл приложения Flask.
    - `requirements.txt` - файл с зависимостями.
    - `selected_gradient_boosting_regressor.pkl` - модель для предсказаний.
    - `selected_standard_scaler.pkl` - скейлер для предобработки данных.
    - `templates/index.html` - HTML-шаблон для формы ввода.

2. Соберите Docker образ:

    ```sh
    docker build -t flask-prediction-app .
    ```

3. Запустите Docker контейнер:

    ```sh
    docker run -p 5000:5000 flask-prediction-app
    ```

Приложение будет доступно по адресу [http://localhost:5000](http://localhost:5000).

### Создание окружения

Вы также можете запустить проект локально, создав виртуальное окружение.

1. Создайте виртуальное окружение:

    ```sh
    python3 -m venv myenv
    ```

2. Активируйте окружение (MacOS/Linux):

    ```sh
    source myenv/bin/activate
    ```

3. Установите зависимости:

    ```sh
    pip install --upgrade pip
    pip install -r requirements.txt
    ```

4. Запустите проект:

    ```sh
    python3 app.py
    ```

## Использование

1. Перейдите на главную страницу приложения.
2. Введите необходимые данные в форму:
    - `crim`: уровень преступности
    - `rm`: количество комнат
    - `age`: возраст
    - `dis`: расстояние до центров занятости
    - `lstat`: процент низкостатусного населения
    - `nox`: уровень оксидов азота

3. Нажмите кнопку "Predict" для получения предсказания цены.

## Тестирование

Для тестирования приложения используются `pytest`. Тесты находятся в файле `test_data_quality.py`.

### Запуск тестов

1. Установите зависимости для тестирования:

    ```sh
    pip install -r requirements.txt
    ```

2. Запустите тесты с помощью команды:

    ```sh
    pytest test_data_quality.py
    ```

## Структура проекта

- `app.py`: Основной файл приложения Flask.
- `requirements.txt`: Зависимости Python для проекта.
- `Dockerfile`: Скрипт для сборки Docker образа.
- `templates/`: Директория с HTML шаблонами.
  - `index.html`: Шаблон для формы ввода данных.
- `selected_gradient_boosting_regressor.pkl`: Предобученная модель градиентного бустинга.
- `selected_standard_scaler.pkl`: Стандартный скейлер для предобработки данных.
- `test_data_quality.py`: Тесты для проверки качества данных и функциональности маршрута предсказания.
